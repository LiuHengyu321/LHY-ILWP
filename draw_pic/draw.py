import numpy as np
import pandas as pd
import matplotlib.pyplot as plt


fine_data = []
coarse_data=[]
fine_data1 = {'total': 0.765, '00-00': 0.89, '01-01': 0.91, '02-02': 0.78, '03-03': 0.88, '04-04': 0.55, '05-05': 0.83,
         '06-06': 0.96, '07-07': 0.78, '08-08': 0.78, '09-09': 0.83, '10-10': 0.93, '11-11': 0.87, '12-12': 0.66,
         '13-13': 0.62, '14-14': 0.9, '15-15': 0.73, '16-16': 0.78, '17-17': 0.71, '18-18': 0.91, '19-19': 0.8,
         '20-20': 0.67, '21-21': 0.63, '22-22': 0.7, '23-23': 0.84, '24-24': 0.68, '25-25': 0.62, '26-26': 0.83,
         '27-27': 0.83, '28-28': 0.6, '29-29': 0.62, '30-30': 0.87, '31-31': 0.79, '32-32': 0.7, '33-33': 0.53,
         '34-34': 0.8, '35-35': 0.6, '36-36': 0.76, '37-37': 0.63, '38-38': 0.83, '39-39': 0.76, '40-40': 0.86,
         '41-41': 0.87, '42-42': 0.9, '43-43': 0.9, '44-44': 0.74, '45-45': 0.71, '46-46': 0.72, '47-47': 0.88,
         '48-48': 0.63, '49-49': 0.67}

coarse_data1 = {'total': 0.719, '00-00': 0.895, '01-01': 0.635, '02-02': 0.86, '03-03': 0.9, '04-04': 0.537,
                '05-05': 0.588, '06-06': 0.728, '07-07': 0.775, '08-08': 0.92, '09-09': 0.603, '10-10': 0.95,
                '11-11': 0.86, '12-12': 0.71, '13-13': 0.99, '14-14': 0.64, '15-15': 0.517, '16-16': 0.97,
                '17-17': 0.76, '18-18': 0.89, '19-19': 0.7}

fine_data2 = {'total': 0.676, '00-00': 0.74, '01-01': 0.82, '02-02': 0.8, '03-03': 0.76, '04-04': 0.4, '05-05': 0.64, '06-06': 0.93, '07-07': 0.66, '08-08': 0.66, '09-09': 0.62, '10-10': 0.9, '11-11': 0.52, '12-12': 0.52, '13-13': 0.45, '14-14': 0.87, '15-15': 0.59, '16-16': 0.68, '17-17': 0.55, '18-18': 0.82, '19-19': 0.7, '20-20': 0.55, '21-21': 0.49, '22-22': 0.6, '23-23': 0.76, '24-24': 0.43, '25-25': 0.39, '26-26': 0.8, '27-27': 0.48, '28-28': 0.44, '29-29': 0.57, '30-30': 0.85, '31-31': 0.67, '32-32': 0.58, '33-33': 0.43, '34-34': 0.73, '35-35': 0.39, '36-36': 0.53, '37-37': 0.52, '38-38': 0.74, '39-39': 0.53, '40-40': 0.81, '41-41': 0.8, '42-42': 0.79, '43-43': 0.77, '44-44': 0.63, '45-45': 0.59, '46-46': 0.5, '47-47': 0.81, '48-48': 0.51, '49-49': 0.65, '50-50': 0.9, '51-51': 0.87, '52-52': 0.84, '53-53': 0.75, '54-54': 0.81, '55-55': 0.91, '56-56': 0.93, '57-57': 0.81, '58-58': 0.82, '59-59': 0.97}

coarse_data2 = {'total': 0.675, '00-00': 0.855, '01-01': 0.702, '02-02': 0.865, '03-03': 0.86, '04-04': 0.445, '05-05': 0.45, '06-06': 0.613, '07-07': 0.715, '08-08': 0.83, '09-09': 0.68, '10-10': 0.883, '11-11': 0.6, '12-12': 0.65, '13-13': 0.98, '14-14': 0.6, '15-15': 0.463, '16-16': 0.92, '17-17': 0.653, '18-18': 0.82, '19-19': 0.64}

fine_data3 = {'total': 0.587, '00-00': 0.69, '01-01': 0.81, '02-02': 0.8, '03-03': 0.79, '04-04': 0.2, '05-05': 0.64, '06-06': 0.88, '07-07': 0.49, '08-08': 0.51, '09-09': 0.49, '10-10': 0.89, '11-11': 0.63, '12-12': 0.36, '13-13': 0.29, '14-14': 0.68, '15-15': 0.46, '16-16': 0.49, '17-17': 0.44, '18-18': 0.77, '19-19': 0.59, '20-20': 0.36, '21-21': 0.22, '22-22': 0.5, '23-23': 0.72, '24-24': 0.27, '25-25': 0.31, '26-26': 0.68, '27-27': 0.44, '28-28': 0.2, '29-29': 0.39, '30-30': 0.78, '31-31': 0.55, '32-32': 0.58, '33-33': 0.39, '34-34': 0.61, '35-35': 0.2, '36-36': 0.41, '37-37': 0.17, '38-38': 0.72, '39-39': 0.44, '40-40': 0.82, '41-41': 0.73, '42-42': 0.71, '43-43': 0.64, '44-44': 0.5, '45-45': 0.48, '46-46': 0.44, '47-47': 0.76, '48-48': 0.2, '49-49': 0.54, '50-50': 0.75, '51-51': 0.77, '52-52': 0.68, '53-53': 0.51, '54-54': 0.43, '55-55': 0.77, '56-56': 0.8, '57-57': 0.69, '58-58': 0.7, '59-59': 0.83, '60-60': 0.76, '61-61': 0.67, '62-62': 0.86, '63-63': 0.57, '64-64': 0.75, '65-65': 0.78, '66-66': 0.86, '67-67': 0.63, '68-68': 0.81, '69-69': 0.84}

coarse_data3 = {'total': 0.633, '00-00': 0.767, '01-01': 0.692, '02-02': 0.792, '03-03': 0.875, '04-04': 0.44, '05-05': 0.608, '06-06': 0.767, '07-07': 0.51, '08-08': 0.443, '09-09': 0.685, '10-10': 0.877, '11-11': 0.552, '12-12': 0.795, '13-13': 0.83, '14-14': 0.505, '15-15': 0.44, '16-16': 0.905, '17-17': 0.65, '18-18': 0.52, '19-19': 0.497}

fine_data4 = {'total': 0.541, '00-00': 0.64, '01-01': 0.78, '02-02': 0.87, '03-03': 0.71, '04-04': 0.16, '05-05': 0.6, '06-06': 0.85, '07-07': 0.38, '08-08': 0.38, '09-09': 0.39, '10-10': 0.86, '11-11': 0.34, '12-12': 0.33, '13-13': 0.21, '14-14': 0.7, '15-15': 0.34, '16-16': 0.55, '17-17': 0.43, '18-18': 0.75, '19-19': 0.54, '20-20': 0.19, '21-21': 0.19, '22-22': 0.52, '23-23': 0.74, '24-24': 0.19, '25-25': 0.2, '26-26': 0.53, '27-27': 0.35, '28-28': 0.15, '29-29': 0.35, '30-30': 0.67, '31-31': 0.52, '32-32': 0.51, '33-33': 0.39, '34-34': 0.58, '35-35': 0.14, '36-36': 0.4, '37-37': 0.1, '38-38': 0.62, '39-39': 0.25, '40-40': 0.76, '41-41': 0.49, '42-42': 0.61, '43-43': 0.57, '44-44': 0.39, '45-45': 0.35, '46-46': 0.16, '47-47': 0.73, '48-48': 0.06, '49-49': 0.5, '50-50': 0.66, '51-51': 0.74, '52-52': 0.59, '53-53': 0.49, '54-54': 0.28, '55-55': 0.75, '56-56': 0.79, '57-57': 0.62, '58-58': 0.59, '59-59': 0.74, '60-60': 0.59, '61-61': 0.5, '62-62': 0.74, '63-63': 0.46, '64-64': 0.43, '65-65': 0.6, '66-66': 0.73, '67-67': 0.31, '68-68': 0.61, '69-69': 0.73, '70-70': 0.95, '71-71': 0.75, '72-72': 0.87, '73-73': 0.82, '74-74': 0.94, '75-75': 0.78, '76-76': 0.86, '77-77': 0.8, '78-78': 0.69, '79-79': 0.89}

coarse_data4 = {'total': 0.615, '00-00': 0.75, '01-01': 0.674, '02-02': 0.877, '03-03': 0.723, '04-04': 0.416, '05-05': 0.564, '06-06': 0.696, '07-07': 0.386, '08-08': 0.48, '09-09': 0.718, '10-10': 0.843, '11-11': 0.556, '12-12': 0.83, '13-13': 0.743, '14-14': 0.557, '15-15': 0.427, '16-16': 0.885, '17-17': 0.613, '18-18': 0.54, '19-19': 0.446}

fine_data5 = {'total': 0.504, '00-00': 0.57, '01-01': 0.8, '02-02': 0.87, '03-03': 0.68, '04-04': 0.1, '05-05': 0.48, '06-06': 0.84, '07-07': 0.25, '08-08': 0.41, '09-09': 0.39, '10-10': 0.84, '11-11': 0.49, '12-12': 0.27, '13-13': 0.2, '14-14': 0.66, '15-15': 0.2, '16-16': 0.58, '17-17': 0.23, '18-18': 0.6, '19-19': 0.52, '20-20': 0.16, '21-21': 0.18, '22-22': 0.46, '23-23': 0.69, '24-24': 0.15, '25-25': 0.15, '26-26': 0.57, '27-27': 0.15, '28-28': 0.11, '29-29': 0.22, '30-30': 0.64, '31-31': 0.45, '32-32': 0.41, '33-33': 0.32, '34-34': 0.51, '35-35': 0.08, '36-36': 0.37, '37-37': 0.1, '38-38': 0.56, '39-39': 0.22, '40-40': 0.79, '41-41': 0.6, '42-42': 0.56, '43-43': 0.42, '44-44': 0.33, '45-45': 0.19, '46-46': 0.1, '47-47': 0.74, '48-48': 0.03, '49-49': 0.23, '50-50': 0.61, '51-51': 0.51, '52-52': 0.56, '53-53': 0.39, '54-54': 0.02, '55-55': 0.74, '56-56': 0.69, '57-57': 0.45, '58-58': 0.62, '59-59': 0.75, '60-60': 0.46, '61-61': 0.39, '62-62': 0.63, '63-63': 0.4, '64-64': 0.45, '65-65': 0.39, '66-66': 0.7, '67-67': 0.23, '68-68': 0.64, '69-69': 0.63, '70-70': 0.82, '71-71': 0.65, '72-72': 0.47, '73-73': 0.67, '74-74': 0.76, '75-75': 0.59, '76-76': 0.53, '77-77': 0.7, '78-78': 0.53, '79-79': 0.85, '80-80': 0.82, '81-81': 0.69, '82-82': 0.77, '83-83': 0.91, '84-84': 0.84, '85-85': 0.73, '86-86': 0.91, '87-87': 0.93, '88-88': 0.73, '89-89': 0.73}

coarse_data5 = {'total': 0.637, '00-00': 0.703, '01-01': 0.654, '02-02': 0.88, '03-03': 0.69, '04-04': 0.444, '05-05': 0.548, '06-06': 0.83, '07-07': 0.42, '08-08': 0.628, '09-09': 0.71, '10-10': 0.835, '11-11': 0.602, '12-12': 0.492, '13-13': 0.684, '14-14': 0.573, '15-15': 0.477, '16-16': 0.877, '17-17': 0.56, '18-18': 0.583, '19-19': 0.588}

fine_data6 = {'total': 0.443, '00-00': 0.5, '01-01': 0.76, '02-02': 0.89, '03-03': 0.49, '04-04': 0.03, '05-05': 0.38, '06-06': 0.87, '07-07': 0.18, '08-08': 0.33, '09-09': 0.25, '10-10': 0.84, '11-11': 0.4, '12-12': 0.21, '13-13': 0.11, '14-14': 0.75, '15-15': 0.03, '16-16': 0.47, '17-17': 0.07, '18-18': 0.63, '19-19': 0.38, '20-20': 0.06, '21-21': 0.12, '22-22': 0.37, '23-23': 0.43, '24-24': 0.13, '25-25': 0.03, '26-26': 0.43, '27-27': 0.03, '28-28': 0.02, '29-29': 0.22, '30-30': 0.71, '31-31': 0.24, '32-32': 0.18, '33-33': 0.29, '34-34': 0.4, '35-35': 0.03, '36-36': 0.34, '37-37': 0.1, '38-38': 0.64, '39-39': 0.11, '40-40': 0.78, '41-41': 0.21, '42-42': 0.56, '43-43': 0.17, '44-44': 0.2, '45-45': 0.11, '46-46': 0.03, '47-47': 0.7, '48-48': 0.02, '49-49': 0.53, '50-50': 0.49, '51-51': 0.61, '52-52': 0.42, '53-53': 0.21, '54-54': 0.0, '55-55': 0.72, '56-56': 0.54, '57-57': 0.51, '58-58': 0.59, '59-59': 0.7, '60-60': 0.36, '61-61': 0.31, '62-62': 0.66, '63-63': 0.34, '64-64': 0.4, '65-65': 0.26, '66-66': 0.69, '67-67': 0.13, '68-68': 0.57, '69-69': 0.45, '70-70': 0.79, '71-71': 0.43, '72-72': 0.18, '73-73': 0.52, '74-74': 0.65, '75-75': 0.48, '76-76': 0.45, '77-77': 0.61, '78-78': 0.31, '79-79': 0.78, '80-80': 0.6, '81-81': 0.51, '82-82': 0.53, '83-83': 0.73, '84-84': 0.56, '85-85': 0.53, '86-86': 0.77, '87-87': 0.85, '88-88': 0.02, '89-89': 0.57, '90-90': 0.53, '91-91': 0.83, '92-92': 0.84, '93-93': 0.86, '94-94': 0.82, '95-95': 0.68, '96-96': 0.93, '97-97': 0.86, '98-98': 0.49, '99-99': 0.89}

coarse_data6 = {'total': 0.616, '00-00': 0.508, '01-01': 0.686, '02-02': 0.868, '03-03': 0.682, '04-04': 0.464, '05-05': 0.576, '06-06': 0.782, '07-07': 0.416, '08-08': 0.63, '09-09': 0.726, '10-10': 0.808, '11-11': 0.72, '12-12': 0.518, '13-13': 0.69, '14-14': 0.622, '15-15': 0.272, '16-16': 0.852, '17-17': 0.494, '18-18': 0.39, '19-19': 0.62}

fine_data.append(fine_data1)
fine_data.append(fine_data2)
fine_data.append(fine_data3)
fine_data.append(fine_data4)
fine_data.append(fine_data5)
fine_data.append(fine_data6)


coarse_data.append(coarse_data1)
coarse_data.append(coarse_data2)
coarse_data.append(coarse_data3)
coarse_data.append(coarse_data4)
coarse_data.append(coarse_data5)
coarse_data.append(coarse_data6)


fine_init = 0
fine_inc = 10
# fine_sum = int(1 + (100 - 50) / fine_inc)
coarse_init = 20


fine_times = np.zeros((100, len(fine_data)))
coarse_times = np.zeros((20, len(coarse_data)))
fine_sum = [6, 6, 6, 6, 6, 5, 4, 3, 2, 1]
for i in range(len(fine_data)):
    p = fine_data[i]
    for index in p.keys():
        if index == 'total':
            continue
        index1 = int(index[0: 2])
        fine_times[index1][i] = p[index]
        # print(i, index, fine_times[index1][i])

for i in range(len(coarse_data)):
    p = coarse_data[i]
    for index in p.keys():
        if index == 'total':
            continue
        index1 = int(index[0: 2])
        coarse_times[index1][i] = p[index]
        # print(i, index, coarse_times[index1][i])

times1 = []
while fine_init <= 100:
    times1.append(fine_init)
    fine_init += fine_inc
print(times1)

for i in range(len(times1) - 1):
    plt.clf()
    times = np.arange(fine_sum[i])
    plt.xlabel("times")
    plt.ylabel("accuracy")
    plt.title(str(times1[i]) + "_" + str(times1[i + 1]) + " classes accuracy")

    for j in range(times1[i], times1[i + 1]):
        print(j, times.shape, fine_times[j].shape)
        start = max(fine_sum) - fine_sum[i]
        plt.plot(times, fine_times[j][start:], label=str(j))

    plt.legend()
    plt.savefig("./pic/" + str(times1[i]) + "_" + str(times1[i + 1]) + ".png")

final_res = []
for index in fine_times:
    final_res.append(index[-1])
data1 = pd.DataFrame(data=final_res)
data1.to_excel("fine_res.xlsx")
